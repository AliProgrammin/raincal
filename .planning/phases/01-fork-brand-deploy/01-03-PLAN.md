---
phase: 01-fork-brand-deploy
plan: 03
type: execute
wave: 2
depends_on: ["01-01", "01-02"]
files_modified:
  - raincal-fork/.env
  - raincal-fork/apps/web/styles/globals.css
  - raincal-fork/apps/web/public/raincal-logo.svg
  - raincal-fork/apps/web/public/raincal-icon.svg
  - raincal-fork/packages/lib/constants.ts
autonomous: true

must_haves:
  truths:
    - "RainCal displays RainCode logo throughout interface"
    - "RainCal uses RainCode brand colors in light and dark mode"
    - "App name shows 'RainCal' not 'Cal.com'"
  artifacts:
    - path: "raincal-fork/.env"
      provides: "RainCal branding environment variables"
      contains: "NEXT_PUBLIC_APP_NAME.*RainCal"
    - path: "raincal-fork/apps/web/styles/globals.css"
      provides: "RainCode brand color tokens"
      min_lines: 50
    - path: "raincal-fork/apps/web/public/raincal-logo.svg"
      provides: "RainCode logo asset"
  key_links:
    - from: "raincal application"
      to: "RainCode brand assets"
      via: "environment variables and CSS tokens"
      pattern: "NEXT_PUBLIC_APP_NAME.*RainCal"
---

<objective>
Apply RainCode branding: logo, brand colors, app name, and email customization.

Purpose: White-label Cal.com as RainCal using configuration-based approach (environment variables + CSS tokens) that preserves ability to merge upstream updates.

Output: Locally running RainCal instance with complete RainCode branding.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/research/STACK.md
@.planning/research/ARCHITECTURE.md
@.planning/research/PITFALLS.md

# Branding sources
Logo and brand colors from: raincode.tech
Approach: Configuration over code (PITFALL-05: avoid hardcoding branding)

# Safe customization points (from ARCHITECTURE.md)
1. Environment variables (.env) - LOW RISK
2. CSS design tokens (globals.css) - LOW to MEDIUM RISK
3. Static assets (public/) - LOW RISK
4. Logo constants (constants.ts) - LOW RISK
</context>

<tasks>

<task type="auto">
  <name>Fetch RainCode branding assets from raincode.tech</name>
  <files>
    raincal-fork/apps/web/public/raincal-logo.svg
    raincal-fork/apps/web/public/raincal-icon.svg
  </files>
  <action>
    Fetch logo and brand colors from raincode.tech:

    1. Visit https://raincode.tech and inspect logo:
       - Right-click logo image -> "Inspect Element"
       - Find SVG or IMG source URL
       - Download logo to local machine

    2. Extract brand colors from site:
       - Use browser DevTools to inspect CSS
       - Look for primary brand color (likely in header/nav)
       - Document hex codes for primary, accent, and grayscale colors

    3. Save logo files to fork:
       ```bash
       # If logo is SVG (preferred):
       cp ~/Downloads/raincode-logo.svg /Users/ali/Documents/Projects/raincal-fork/apps/web/public/raincal-logo.svg
       cp ~/Downloads/raincode-logo.svg /Users/ali/Documents/Projects/raincal-fork/apps/web/public/raincal-icon.svg

       # If logo is PNG/JPG, convert to SVG using online tool or use as-is
       ```

    4. Document brand colors found:
       ```markdown
       # RainCode Brand Colors (document in comments)

       Primary: #XXXXXX (from raincode.tech header)
       Accent: #XXXXXX (from raincode.tech buttons/links)
       Background: #XXXXXX (light mode)
       Background Dark: #XXXXXX (dark mode)
       Text: #XXXXXX (light mode)
       Text Dark: #XXXXXX (dark mode)
       ```

    Why fetch from raincode.tech: Ensures authentic branding, not placeholder values.
    Why SVG preferred: Scalable, looks crisp at all sizes, smaller file size.
  </action>
  <verify>
    1. Files exist: raincal-fork/apps/web/public/raincal-logo.svg and raincal-icon.svg
    2. Files are valid images (open in browser to confirm they render)
    3. Brand colors documented (hex codes captured)
  </verify>
  <done>RainCode logo and icon saved in public/ directory, brand colors documented</done>
</task>

<task type="auto">
  <name>Update environment variables with RainCal branding</name>
  <files>raincal-fork/.env</files>
  <action>
    Edit `/Users/ali/Documents/Projects/raincal-fork/.env` to apply RainCal branding:

    Update these variables (addresses PITFALL-05: use white-labeling system, not hardcoding):

    ```bash
    # App identity (replaces Cal.com branding)
    NEXT_PUBLIC_APP_NAME="RainCal"
    NEXT_PUBLIC_COMPANY_NAME="RainCode University Accelerator"
    NEXT_PUBLIC_SUPPORT_MAIL_ADDRESS="support@raincal.yourdomain.edu"

    # Keep localhost URLs for now (will change in deployment plan)
    NEXT_PUBLIC_WEBAPP_URL="http://localhost:3000"
    NEXTAUTH_URL="http://localhost:3000/api/auth"
    ALLOWED_HOSTNAMES='"localhost"'

    # Website links (update when production site exists)
    # NEXT_PUBLIC_WEBSITE_URL="https://raincal.yourdomain.edu"
    # NEXT_PUBLIC_WEBSITE_TERMS_URL="https://raincal.yourdomain.edu/terms"
    # NEXT_PUBLIC_WEBSITE_PRIVACY_POLICY_URL="https://raincal.yourdomain.edu/privacy"
    ```

    Why environment variables: Changes propagate throughout entire codebase instantly. No need to modify React components.

    Known limitation (PITFALL-05): "Disable branding" setting doesn't fully work - some emails/page titles may still say "Cal.com". Will document which templates need manual updates if discovered during testing.
  </action>
  <verify>
    1. `grep "NEXT_PUBLIC_APP_NAME" raincal-fork/.env` shows "RainCal"
    2. `grep "NEXT_PUBLIC_COMPANY_NAME" raincal-fork/.env` shows "RainCode University Accelerator"
    3. `grep "NEXT_PUBLIC_SUPPORT_MAIL_ADDRESS" raincal-fork/.env` shows support@raincal email
  </verify>
  <done>Environment variables updated with RainCal branding identifiers</done>
</task>

<task type="auto">
  <name>Apply RainCode brand colors to CSS design tokens</name>
  <files>raincal-fork/apps/web/styles/globals.css</files>
  <action>
    Customize color tokens in `/Users/ali/Documents/Projects/raincal-fork/apps/web/styles/globals.css`:

    1. Back up original file:
       ```bash
       cp apps/web/styles/globals.css apps/web/styles/globals.css.backup
       ```

    2. Edit globals.css and replace Cal.com color tokens with RainCode colors:

       Find the `:root` section (light mode colors) and `.dark` section (dark mode colors).

       Update primary brand colors (use hex codes from Task 1):

       ```css
       :root {
         /* RainCode primary brand color (from raincode.tech) */
         --cal-brand: [PRIMARY_HEX converted to RGB];
         --cal-brand-emphasis: [ACCENT_HEX converted to RGB];

         /* Example if primary is #4F46E5: */
         --cal-brand: 79 70 229;
         --cal-brand-emphasis: 67 56 202;

         /* Keep grayscale relatively neutral or adjust for brand */
         --cal-bg: 255 255 255;
         --cal-text: 23 23 23;
         /* ... other tokens ... */
       }

       .dark {
         /* Dark mode overrides */
         --cal-brand: [adjust for dark mode if needed];
         --cal-bg: 23 23 23;
         --cal-text: 255 255 255;
         /* ... other tokens ... */
       }
       ```

    3. Document changes in comment at top of file:
       ```css
       /**
        * RainCal Custom Branding
        *
        * Modified for RainCode University Accelerator
        * Primary color: #XXXXXX (from raincode.tech)
        * Last updated: 2026-01-19
        *
        * IMPORTANT: When merging upstream Cal.com updates, preserve these color values.
        * Token names may change - document hex codes above for reapplication.
        */
       ```

    Why CSS tokens not component modifications: Tokens propagate throughout entire app via Tailwind utilities. No need to touch React components (prevents merge conflicts with upstream).

    Why RGB not hex: Cal.com's design system uses RGB values in CSS custom properties for Tailwind integration.

    Conversion: Use online tool or formula: #4F46E5 → rgb(79, 70, 229) → "79 70 229"
  </action>
  <verify>
    1. Backup file exists: apps/web/styles/globals.css.backup
    2. `grep "RainCal Custom Branding" apps/web/styles/globals.css` finds comment
    3. `grep "cal-brand:" apps/web/styles/globals.css` shows custom RGB values
    4. File is valid CSS (no syntax errors)
  </verify>
  <done>CSS design tokens updated with RainCode brand colors for light and dark modes</done>
</task>

<task type="auto">
  <name>Update logo references in constants</name>
  <files>raincal-fork/packages/lib/constants.ts</files>
  <action>
    Update logo path constants in `/Users/ali/Documents/Projects/raincal-fork/packages/lib/constants.ts`:

    1. Find logo constant definitions (search for "logo" or "LOGO")

    2. Update to point to RainCal logo files:
       ```typescript
       // Before (Cal.com defaults):
       export const LOGO = "/cal-logo.svg";
       export const LOGO_ICON = "/cal-icon.svg";

       // After (RainCal branding):
       export const LOGO = "/raincal-logo.svg";
       export const LOGO_ICON = "/raincal-icon.svg";
       ```

    3. Add comment documenting change:
       ```typescript
       // RainCal branding - Updated 2026-01-19
       // Points to RainCode logo assets in apps/web/public/
       export const LOGO = "/raincal-logo.svg";
       export const LOGO_ICON = "/raincal-icon.svg";
       ```

    Why constants.ts: Central location for logo paths used throughout application. Changing here updates all references.
  </action>
  <verify>
    1. `grep "raincal-logo.svg" raincal-fork/packages/lib/constants.ts` finds updated path
    2. `grep "raincal-icon.svg" raincal-fork/packages/lib/constants.ts` finds updated path
    3. File compiles without TypeScript errors: `yarn workspace @calcom/lib build`
  </verify>
  <done>Logo constants updated to reference RainCal logo assets</done>
</task>

<task type="auto">
  <name>Rebuild and verify RainCal branding</name>
  <files>N/A (verification task)</files>
  <action>
    Rebuild application with branding changes and verify:

    1. Stop development server if running (Ctrl+C)

    2. Rebuild application (required for NEXT_PUBLIC_* variables):
       ```bash
       cd /Users/ali/Documents/Projects/raincal-fork
       yarn build
       ```

       This bakes NEXT_PUBLIC_APP_NAME and other branding into JavaScript bundle.
       Build takes 5-10 minutes.

    3. Start production-mode server:
       ```bash
       yarn start
       ```

    4. Manual verification checklist:
       - [ ] Visit http://localhost:3000
       - [ ] Logo in header shows RainCode logo (not Cal.com)
       - [ ] Page title shows "RainCal" (not "Cal.com")
       - [ ] Brand colors visible in navigation, buttons, links
       - [ ] Test dark mode toggle - colors look correct
       - [ ] Create test user account (if DISABLE_SIGNUP=false)
       - [ ] Check user profile page - branding consistent
       - [ ] Inspect footer - company name shows "RainCode University Accelerator"

    5. Document any incomplete branding:
       If any pages still show "Cal.com", note them for future reference.
       Known issue: Some email templates may still reference Cal.com (PITFALL-05).

    6. Take screenshots for SUMMARY:
       - Homepage with RainCode logo
       - Dark mode view
       - User profile page (if created test user)
  </action>
  <verify>
    1. Build completes successfully
    2. Application starts on localhost:3000
    3. Homepage displays RainCode logo
    4. Page title shows "RainCal"
    5. Brand colors visible throughout interface
    6. Dark mode shows correct colors
    7. No "Cal.com" references in visible UI (emails excluded)
  </verify>
  <done>RainCal branding applied and verified in local instance - logo, colors, app name all show RainCode identity</done>
</task>

</tasks>

<verification>
1. RainCode logo files exist in apps/web/public/
2. Environment variables updated with "RainCal" and "RainCode University Accelerator"
3. CSS design tokens customized with RainCode brand colors
4. Logo constants point to raincal-logo.svg and raincal-icon.svg
5. Application rebuilt with new branding
6. Local instance at localhost:3000 displays RainCode branding throughout
7. Dark mode works correctly with custom colors
8. No visible "Cal.com" references in UI (some emails may still have Cal.com, documented if found)
</verification>

<success_criteria>
- RainCal displays RainCode logo in header, favicon, and loading screens
- App name shows "RainCal" in page titles and navigation
- Brand colors from raincode.tech applied consistently in light and dark modes
- Company name "RainCode University Accelerator" appears in footer and support references
- All branding changes use configuration (env vars + CSS tokens), not hardcoded modifications
- Branding changes documented for preservation during upstream merges
</success_criteria>

<output>
After completion, create `.planning/phases/01-fork-brand-deploy/01-03-SUMMARY.md`

Include in summary:
- Brand colors used (hex codes)
- Known incomplete branding areas (if any, especially email templates)
- Screenshots showing RainCode logo and colors
</output>
