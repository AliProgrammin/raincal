---
phase: 01-fork-brand-deploy
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: true

must_haves:
  truths:
    - "Cal.com fork exists in RainCode organization"
    - "Upstream Cal.com is tracked as git remote"
    - "Fork can pull upstream updates without blocking"
  artifacts:
    - path: ".git/config"
      provides: "Upstream remote configuration"
      contains: "remote \"upstream\""
  key_links:
    - from: "raincal fork"
      to: "calcom/cal.com upstream"
      via: "git remote upstream"
      pattern: "git remote -v.*upstream.*calcom"
---

<objective>
Fork Cal.com repository to RainCode organization and establish upstream sync workflow.

Purpose: Creates the foundation for RainCal by forking the open-source Cal.com repository while maintaining ability to pull upstream updates for security patches and features.

Output: Forked repository with upstream tracking configured for future merges.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/research/SUMMARY.md
@.planning/research/PITFALLS.md

# Research context
Research emphasizes fork maintenance discipline (PITFALL-04). Setting up upstream remote immediately prevents inability to merge updates later.
</context>

<tasks>

<task type="auto">
  <name>Fork Cal.com repository to RainCode organization</name>
  <files>N/A (GitHub operation)</files>
  <action>
    Using GitHub CLI, fork the Cal.com repository to the RainCode organization:

    1. Authenticate with GitHub: `gh auth login` (if not already authenticated)
    2. Fork to organization: `gh repo fork calcom/cal.com --org RainCode --fork-name raincal --clone=false`
    3. Verify fork exists: `gh repo view RainCode/raincal`

    Why GitHub CLI: Ensures proper fork relationship preserved for upstream tracking.
    Why --clone=false: Will clone separately with proper configuration in next task.
  </action>
  <verify>
    Run `gh repo view RainCode/raincal --json nameWithOwner,parent` and confirm:
    - nameWithOwner is "RainCode/raincal"
    - parent.nameWithOwner is "calcom/cal.com"
  </verify>
  <done>Fork exists at github.com/RainCode/raincal with parent relationship to calcom/cal.com</done>
</task>

<task type="auto">
  <name>Clone fork and configure upstream remote</name>
  <files>.git/config</files>
  <action>
    Clone the RainCode fork and establish upstream tracking:

    1. Clone fork: `gh repo clone RainCode/raincal /Users/ali/Documents/Projects/raincal-fork`
    2. Navigate into directory: `cd /Users/ali/Documents/Projects/raincal-fork`
    3. Add upstream remote: `git remote add upstream https://github.com/calcom/cal.com.git`
    4. Fetch upstream branches: `git fetch upstream`
    5. Set main branch to track origin: `git branch --set-upstream-to=origin/main main`

    Why separate directory: Current /Users/ali/Documents/Projects/raincal is planning workspace, fork goes in raincal-fork.
    Why upstream remote: Enables `git fetch upstream` and `git merge upstream/main` for future updates.

    Document upstream sync workflow in fork README:
    ```markdown
    ## Upstream Sync Workflow

    ```bash
    # Fetch latest from Cal.com
    git fetch upstream

    # Create upgrade branch
    git checkout -b upgrade/YYYY-MM-DD main

    # Merge upstream changes
    git merge upstream/main

    # Resolve conflicts (prefer RainCal customizations in safe zones)
    # Test thoroughly: yarn build, yarn test, manual booking flow

    # Merge to main after validation
    git checkout main
    git merge upgrade/YYYY-MM-DD
    ```

    Schedule: Quarterly major upgrades, monthly security patches.
    ```
  </action>
  <verify>
    1. Run `git remote -v` and confirm both origin (RainCode/raincal) and upstream (calcom/cal.com) exist
    2. Run `git branch -vv` and confirm main tracks origin/main
    3. Run `git fetch upstream` successfully
  </verify>
  <done>Fork cloned locally with upstream remote configured and sync workflow documented</done>
</task>

<task type="auto">
  <name>Document AGPLv3 compliance strategy</name>
  <files>.planning/LICENSE-COMPLIANCE.md</files>
  <action>
    Create compliance documentation based on PITFALL-02 (AGPLv3 license misunderstanding):

    Create `/Users/ali/Documents/Projects/raincal-fork/.planning/LICENSE-COMPLIANCE.md`:

    ```markdown
    # AGPLv3 Compliance Strategy for RainCal

    ## License

    RainCal is a fork of Cal.com, which is licensed under AGPLv3.

    ## Compliance Approach

    **Deployment Model:** University-internal use
    - RainCal is accessible only to RainCode accelerator students, CTOs, and staff
    - No public access to external users (alumni, general public)
    - Classification: Internal university tool

    **AGPLv3 Obligations:**
    - Network use triggers source disclosure requirement
    - For internal-only use: Must provide source to users (students/staff/CTOs)
    - Compliance method: Public GitHub repository at github.com/RainCode/raincal

    **Source Code Availability:**
    - Repository: https://github.com/RainCode/raincal
    - All modifications documented in git history
    - AGPLv3 LICENSE file preserved from upstream Cal.com

    **Action Items:**
    - [ ] Add "Source Code" link in RainCal footer pointing to github.com/RainCode/raincal
    - [ ] Ensure repository is public (not private)
    - [ ] Consult university legal counsel to confirm internal-use classification

    **Review Schedule:** Annually, or when deployment model changes

    ## References
    - Cal.com blog: Changing to AGPLv3 and introducing the Enterprise Edition
    - AGPLv3 license: https://www.gnu.org/licenses/agpl-3.0.en.html
    ```

    Why document this: Prevents legal liability from license violation (PITFALL-02). AGPLv3 compliance must be decided before deployment.
  </action>
  <verify>
    File exists at `/Users/ali/Documents/Projects/raincal-fork/.planning/LICENSE-COMPLIANCE.md` with AGPLv3 strategy documented
  </verify>
  <done>AGPLv3 compliance strategy documented, action items clear for Phase 1 deployment</done>
</task>

</tasks>

<verification>
1. Fork exists at github.com/RainCode/raincal with parent relationship to calcom/cal.com
2. Local clone has both origin and upstream remotes configured
3. `git fetch upstream` works without errors
4. AGPLv3 compliance strategy documented with action items
5. Upstream sync workflow documented for future maintenance
</verification>

<success_criteria>
- RainCode organization has raincal fork on GitHub
- Fork maintains parent relationship to calcom/cal.com (enables upstream tracking)
- Local development has upstream remote for pulling Cal.com updates
- Compliance strategy addresses AGPLv3 network copyleft requirement
- Team knows how to sync upstream updates quarterly
</success_criteria>

<output>
After completion, create `.planning/phases/01-fork-brand-deploy/01-01-SUMMARY.md`
</output>
